:root,
::backdrop {
  --fb-global-radius: 0.4rem;
  --fb-alert-border-radius: var(--fb-global-radius);
  --fb-global-shadow-lw: 0 2px 2px 0 #0000001a;
  --fb-alert-shadow: var(--fb-global-shadow-lw);
  --fb-alert-border-width: 0px;
  --fb-alert-border-left-width: 5px;
  --fb-alert-border-color: inherit;
  --fb-code-font-size: 1rem;

  --fb-alert-background-color: inherit;
  --fb-alert-background-color-highlight: inherit;
  --fb-alert-foreground-color: inherit;
  --fb-alert-padding-horizontal: 1rem;
  --fb-alert-padding-vertical: 1rem;

  /* Info/Note colors */
  --fb-color-info-dark: #4cb3d4;
  --fb-color-info-contrast-background: #eef9fd;
  --fb-color-info-contrast-foreground: #193c47;
  --fb-color-info-contrast-background-highlight: #54c7ec26;

  /* Danger colors */
  --fb-color-danger-dark: #e13238;
  --fb-color-danger-contrast-background: #ffebec;
  --fb-color-danger-contrast-foreground: #4b1113;
  --fb-color-danger-contrast-background-highlight: #fa383e26;

  /* Success/Tip colors */
  --fb-color-success-dark: #009400;
  --fb-color-success-contrast-background: #e6f6e6;
  --fb-color-success-contrast-foreground: #003100;
  --fb-color-success-contrast-background-highlight: #00a40026;

  /* Warning/Caution colors */
  --fb-color-warning-dark: #e6a700;
  --fb-color-warning-contrast-background: #fff8e6;
  --fb-color-warning-contrast-foreground: #4d3800;
  --fb-color-warning-contrast-background-highlight: #ffba0026;
}

:root[data-theme='dark'] {
  --fb-color-info-contrast-background: #193c47;
  --fb-color-info-contrast-foreground: #eef9fd;
  --fb-color-warning-contrast-background: #4d3800;
  --fb-color-warning-contrast-foreground: #fff8e6;
  --fb-color-danger-contrast-background: #4b1113;
  --fb-color-danger-contrast-foreground: #ffebec;
  --fb-color-success-contrast-background: #003100;
  --fb-color-success-contrast-foreground: #e6f6e6;
}

.starlight-aside {
  --sl-code-background: var(--fb-alert-background-color-highlight);
  --sl-link-color: var(--fb-alert-foreground-color);
  --sl-link-hover-color: var(--fb-alert-foreground-color);
  --sl-link-decoration: underline;
  --sl-tabs-color: var(--fb-alert-foreground-color);
  --sl-tabs-color-active: var(--fb-alert-foreground-color);
  --sl-tabs-color-active-border: var(--fb-alert-border-color);

  background-color: var(--fb-alert-background-color);
  border: var(--fb-alert-border-width) solid var(--fb-alert-border-color);
  border-left-width: var(--fb-alert-border-left-width);
  border-radius: var(--fb-alert-border-radius);
  box-shadow: var(--fb-alert-shadow);
  color: var(--fb-alert-foreground-color);
  padding: var(--fb-alert-padding-vertical) var(--fb-alert-padding-horizontal);
  border-inline-start: 0.25rem solid var(--sl-color-asides-border) !important;

  /* Code styling within asides */
  & code {
    border-radius: var(--fb-global-radius);
    font-family: var(--font-mono);
    font-size: var(--fb-code-font-size);
    padding: .1rem .3rem;
    border: .1rem solid rgba(0, 0, 0, .1);
    background-color: var(--fb-alert-background-color-highlight);
  }

  & a {
    color: var(--fb-alert-foreground-color);
    text-decoration-color: var(--fb-alert-border-color);
    -webkit-text-decoration-color: var(--fb-alert-border-color);
    text-decoration-color: var(--fb-alert-border-color)
  }

  & a:hover {
    text-decoration-thickness: 2px;
  }

  & .expressive-code {
    box-shadow: none;
  }

  & .expressive-code pre {
    min-height: 3.5rem !important;
  }

  & .expressive-code code {
    border-color: var(--fb-alert-border-color) !important;
    padding-top: 0.75rem;
    border: none !important;
  }

  /* Expressive code title styling within asides */
  & .expressive-code .frame.has-title:not(.is-terminal) .title,
  & .expressive-code .frame .title {
    background-color: var(--fb-alert-background-color) !important;
    color: var(--fb-alert-foreground-color) !important;
    width: 100%;
  }

  & .expressive-code .frame.has-title:not(.is-terminal) code,
  & .expressive-code .frame code {
    border-top-left-radius: 0 !important;
    border-top-right-radius: 0 !important;
  }

  /* Table header styling within asides */
  & table thead th {
    background-color: var(--fb-alert-background-color) !important;
  }

  /* Table alternating row styling within asides */
  & table tbody tr:nth-child(2n) {
    background-color: var(--fb-alert-background-color-highlight) !important;
  }

  /* Table border styling within asides */
  & table :is(th, td) {
    /* border-color: var(--fb-alert-border-color) !important; */
  }
}

.starlight-aside--note {
  --fb-alert-background-color: var(--fb-color-info-contrast-background);
  --fb-alert-background-color-highlight: var(--fb-color-info-contrast-background-highlight);
  --fb-alert-foreground-color: var(--fb-color-info-contrast-foreground);
  --fb-alert-border-color: var(--fb-color-info-dark);
  --sl-color-asides-text-accent: var(--fb-color-info-contrast-foreground);
  --sl-color-asides-border: var(--fb-color-info-dark);
}

.starlight-aside--tip {
  --fb-alert-background-color: var(--fb-color-success-contrast-background);
  --fb-alert-background-color-highlight: var(--fb-color-success-contrast-background-highlight);
  --fb-alert-foreground-color: var(--fb-color-success-contrast-foreground);
  --fb-alert-border-color: var(--fb-color-success-dark);
  --sl-color-asides-text-accent: var(--fb-color-success-contrast-foreground);
  --sl-color-asides-border: var(--fb-color-success-dark);
}

.starlight-aside--caution {
  --fb-alert-background-color: var(--fb-color-warning-contrast-background);
  --fb-alert-background-color-highlight: var(--fb-color-warning-contrast-background-highlight);
  --fb-alert-foreground-color: var(--fb-color-warning-contrast-foreground);
  --fb-alert-border-color: var(--fb-color-warning-dark);
  --sl-color-asides-text-accent: var(--fb-color-warning-contrast-foreground);
  --sl-color-asides-border: var(--fb-color-warning-dark);
}

.starlight-aside--danger {
  --fb-alert-background-color: var(--fb-color-danger-contrast-background);
  --fb-alert-background-color-highlight: var(--fb-color-danger-contrast-background-highlight);
  --fb-alert-foreground-color: var(--fb-color-danger-contrast-foreground);
  --fb-alert-border-color: var(--fb-color-danger-dark);
  --sl-color-asides-text-accent: var(--fb-color-danger-contrast-foreground);
  --sl-color-asides-border: var(--fb-color-danger-dark);
}

.starlight-aside__title {
  display: flex;
  gap: 0.5rem;
  align-items: center;
  font-size: var(--sl-text-h5);
  font-weight: 600;
  line-height: var(--sl-line-height-headings);
  color: var(--sl-color-asides-text-accent) !important;
  text-transform: uppercase;
  margin-bottom: 0.5rem;
}
